<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/png" href="/Logo.png">
    <title>SusBot</title>
</head>

<body>

    <nav class="navbar">
        <a class="title" href="index.html">SusBot</a>
        <a href="invite.html">Invite</a>
        <a class="selected" href="command.html">Commands</a>
        <a href="aboutme.html">About Me</a>
        <a href="login.html">Log in</a>
    </nav>

    <div id="loader"></div>

    <br>
    <br>
    <br>

    <script>
        var inputValue = localStorage.getItem('input') || "";
    </script>

    <table class="table app">
        <script>
            var array = [];
            var abc = "ACDEFGHIKLMNOPRSTUX";
            for (let i = 0; i < abc.length; i++) {
                if (!array.includes(abc.charAt(i))) {
                    array.push(abc.charAt(i));
                }
            }
            var letters = array.join(" - ");
        </script>
        <form>
            <label>
                <h5>Search: </h5>
            </label><br>
            <input v-model="filter" id="input"
                onchange="inputValue = this.value; localStorage.setItem('input', this.value); location.reload()">
            <button type="submit" onclick="localStorage.removeItem('input'); location.reload()">Clear</button>
        </form>
        <br>
        <p>
            <script>
                for (let i = 0; i < letters.length; i++) {
                    if (letters.charAt(i) === "-" || letters.charAt(i) === " ") {
                        document.write(letters.charAt(i));
                    } else {
                        document.write(`<a onclick="localStorage.setItem('input', letters.charAt(${i}).toLowerCase()); location.reload();">${letters.charAt(i)}</a>`);
                    }
                }
            </script>
        </p>

        <!-- <script>
            var inputValue = "";
            function valueThing() {
                inputValue = document.getElementById('input').value;
            }
        </script> -->
        <thead>
            <tr>
                <th>#</th>
                <th>Command</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr class="commands" v-for="command in filteredCommands" v-show="command.command.includes(inputValue)">
                <td>
                    <h4 v-show="command.new === '1'">#NEW!</h4>
                    <h4 v-show="command.new === '0'">#</h4>
                </td>
                <td>
                    <h4><a class="name" v-bind:href="'commands.html?id='+ command.id">{{command.command}}</a></h4>
                </td>
                <td>
                    <h4><a class="response" v-bind:href="'commands.html?id='+ command.id">{{command.response}}</a>
                    </h4>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- <h1 class="text-center"><img src="../Logo.png" class="mainimage"></h1> -->
</body>

<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="https://unpkg.com/vue@2.6.11/dist/vue.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/1.0.0/marked.min.js"></script>
<script src="../js/commands.js"></script>

<script type="text/javascript">
    $(window).load(function () {
        $("#loader").fadeOut(500);
    });

    $('.ghostly').animate({
        opacity: '1'
    }, 3000);

    $(document).on('click', "nav > a", function (event) {
        event.preventDefault();
        $.when($("#loader").fadeIn(1560).promise(), $.ajax({
            url: this.href,
            type: 'get',
            dataType: 'html'
        })).done(function (html) {
            // console.log(event.target.href);
            location = event.target.href;
        });
    });
</script>


</html>